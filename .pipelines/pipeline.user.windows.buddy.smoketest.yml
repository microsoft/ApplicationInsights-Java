build:
  commands:
    - !!defaultcommand
      name: 'Assemble ApplicationInsights-Java JARs'
      command: '.scripts/gradle.cmd'
      arguments: 'assemble'
test:
  commands:
    - !!defaultcommand
      name: 'Find docker'
      command: 'powershell'
      arguments: '-NoProfile -ExecutionPolicy Unrestricted -File Init-Docker.ps1'
    - !!testcommand
      name: 'Run one smoketest'
      command: '.scripts/gradle.cmd'
      arguments: '-PwithIntegrationTests :test:smoke:testApps:CoreAndFilter:smokeTest'
      testresults:
        - title: 'CoreAndFilter SmokeTest Results'
          type: 'junit'
          from: 'test/smoke/testApps/CoreAndFilter/build/test-results/test'
          include:
            - '**/*'
